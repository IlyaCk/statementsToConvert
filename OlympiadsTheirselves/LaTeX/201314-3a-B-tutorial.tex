\Tutorial	Ніби нескладна задача\nolinebreak[3] --- перебрати ч\'{и}сла і перевірити кожне на відповідність умовам. Причому, <<чи~є точним квадратом>> вже розглядали на\nolinebreak[3] стор.~\pageref{text:how-to-test-if-sqrt-N-integer}, суму цифр\nolinebreak[3] --- на\nolinebreak[3] стор.~\pageref{text:sum-of-digits}\dots{}
Але програма \IdeOne{gLqsYd} набирає лише 50~балів зі~100.

Перевіряти аж 2~млрд чисел\nolinebreak[3] --- забагато. Навіть якщо (абсолютно слушно) рахувати суму цифр лише для тих, які пройшли перевірку <<чи~є точним квадратом>>. Пришвидшити розв'язок досить просто\nolinebreak[3] --- \emph{генерувати} \emph{лише точні квадрати}, а\nolinebreak[3] не\nolinebreak[3] перебирати й перевіряти геть усі ч\'{и}сла проміжку.
\label{note:not-check-but-generate-squares}
Достатньо запускати цикл не\nolinebreak[3] від\nolinebreak[3] $a$ до~$b$, а\nolinebreak[2] від~${\approx}\sqrt{a}$ до~${\approx}\sqrt{b}$ й працювати\nolinebreak[2] з~$i^2$. Правда, тут можна заплутатися, \emph{як} перетворити <<${\approx}\sqrt{a}$>> та <<${\approx}\sqrt{b}$>> у~точні цілі значення. Не~дуже красивий, зате точно правильний спосіб\nolinebreak[3] --- узяти м\'{е}жі з невеличким <<запасом>>, а~потім отримане~$i^2$ все-таки перевірити на належність проміжку~\mbox{$[a; b]$}. Такий розв'язок (наприклад,\nolinebreak[2] \IdeOne{EplT1L}), навіть із цією зайвою перевіркою, вкладатиметься у 1~сек з великим запасом, бо тепер кількість ітерацій${}\<\sqrt{2{\cdot}10^9}\approx{}$45~тис.


З асимптотичною оцінкою цього розв'язку є неоднозначність. Попередній абзац наштовхує на ${\Theta(\sqrt{b}-\sqrt{a})}$ або $O(\sqrt{b})$; але \emph{якщо} враховувати ще цикл у \texttt{sumOfDigits}, то вийде $O(\sqrt{b}\cdot\log{}b)$. 
% % % Слово <<якщо>> виділене, бо з~одного боку, кількість цифр обмежена 
% % % розрядністю типу, а асимптотична оцінка ігнорує константи; з~іншого
% % % \nolinebreak[3] --- цей цикл всер\'{е}дині \texttt{sumOfDigits} все ж 
% % % займає час\dots